โ๏ธ ุฒุจุงู ูุง: ูุงุฑุณ | [English (ุงูฺฏูุณ) ๐บ๐ธ](https://github.com/wisetrack-io/flutter-sdk/blob/main/README.md)

# ูพูุงฺฏู ููุงุชุฑ WiseTrack

ูพูุงฺฏู ุงูุฒููู ููุงุชุฑ **WiseTrack** ฺฉ ุฑุงูฺฉุงุฑ ฺูุฏุณฺฉู ุจุฑุง ุดุชุงุจโุฏู ุจู ุฑุดุฏ ุงูพูฺฉุดู ุดูุง ุงุฑุงุฆู ูโุฏูุฏ โ ุงุจุฒุงุฑ ฺฉู ุจู ุดูุง ฺฉูฺฉ ูโฺฉูุฏ ููุฒูุงู ุชุนุฏุงุฏ ฺฉุงุฑุจุฑุงู ุฑุง ุงูุฒุงุด ุฏูุฏุ ุฏุฑุขูุฏ ุฑุง ุจุดุชุฑ ฺฉูุฏ ู ูุฒููโูุง ุฑุง ฺฉุงูุด ุฏูุฏ.

## ููุฑุณุช ูุทุงูุจ
- [ูฺฺฏ ูุง](#ูฺฺฏ-ูุง)
- [ูุงุฒููุฏ ูุง](#ูุงุฒููุฏ-ูุง)
- [ูุตุจ](#ูุตุจ)
- [ุฑุงู ุงูุฏุงุฒ ุงููู](#ุฑุงู-ุงูุฏุงุฒ-ุงููู)
- [ุงุณุชูุงุฏู ูพุงู](#ุงุณุชูุงุฏู-ูพุงู)
  - [ูุนุงู/ุบุฑูุนุงู ฺฉุฑุฏู ุฑุฏุงุจ](#ูุนุงูุบุฑูุนุงู-ฺฉุฑุฏู-ุฑุฏุงุจ)
  - [ุฏุฑุฎูุงุณุช ูุฌูุฒ ุดูุงูุช ุฑุฏุงุจ ุจุฑูุงูู (ATT) (iOS)](#ุฏุฑุฎูุงุณุช-ูุฌูุฒ-ุดูุงูุช-ุฑุฏุงุจ-ุจุฑูุงูู-att-ios)
  - [ุดุฑูุน/ุชููู ุฑุฏุงุจ](#ุดุฑูุนุชููู-ุฑุฏุงุจ)
  - [ุชูุธู ุชูฺฉูโ ูุง ุงุนูุงู ูพูุด](#ุชูุธู-ุชูฺฉู-ูุง-ุงุนูุงู-ูพูุด)
  - [ุซุจุช ุฑูุฏุงุฏูุง ุณูุงุฑุด](#ุซุจุช-ุฑูุฏุงุฏูุง-ุณูุงุฑุด)
  - [ุชูุธู ุณุทูุญ ูุงฺฏ](#ุชูุธู-ุณุทูุญ-ูุงฺฏ)
  - [ุจุงุฒุงุจ ุดูุงุณู ูุง ุชุจูุบุงุช](#ุจุงุฒุงุจ-ุดูุงุณู-ูุง-ุชุจูุบุงุช)
- [ุงุณุชูุงุฏู ูพุดุฑูุชู](#ุงุณุชูุงุฏู-ูพุดุฑูุชู)
  - [ุณูุงุฑุด ุณุงุฒ ุฑูุชุงุฑ SDK](#ุณูุงุฑุด-ุณุงุฒ-ุฑูุชุงุฑ-sdk)
  - [ุงุชุตุงู ุจู WebView](#ุงุชุตุงู-ุจู-webview)
- [ูพุฑูฺู ููููู](#ูพุฑูฺู-ููููู)
- [ุนุจ ุงุจ](#ุนุจ-ุงุจ)
- [ูุฌูุฒ](#ูุฌูุฒ)

## ูฺฺฏโ ูุง
- ุฑุฏุงุจ ฺูุฏูพูุชูุฑู ุจุฑุง iOS ู ุงูุฏุฑูุฏ
- ูพุดุชุจุงู ุงุฒ ุซุจุช ุฑูุฏุงุฏูุง ุณูุงุฑุด ู ุฏุฑุขูุฏ
- ูุฏุฑุช ุชูฺฉู ุงุนูุงู ูพูุด (APNS ู FCM)
- ูพุดุชุจุงู ุงุฒ ุดูุงูุช ุฑุฏุงุจ ุจุฑูุงูู (ATT) ุจุฑุง iOS
- ุณุทูุญ ูุงฺฏ ูุงุจู ุชูุธู
- ูพุดุชุจุงู ุงุฒ ูุชโููพ (ููุท ุฏุฑ iOSุ ุงุฒ ุทุฑู ุงุฏุบุงู ุจูู)
- ุจุงุฒุงุจ ุดูุงุณู ุชุจูุบุงุช (IDFA ุจุฑุง iOSุ Ad ID ุจุฑุง ุงูุฏุฑูุฏ)

## ูุงุฒููุฏ ูุง
- ููุงุชุฑ 2.0.0 ุง ุจุงูุงุชุฑ
- ุฏุงุฑุช 2.12.0 ุง ุจุงูุงุชุฑ
- iOS 11.0 ุง ุจุงูุงุชุฑ
- ูพุดุชุจุงู ุงุฒ Android embedding v2 
- ุงูุฏุฑูุฏ API 21 (ูุงูโูพุงูพ) ุง ุจุงูุงุชุฑ
- Android Gradle Plugin >= 7.1.0 and Gradle 7.3 for full compatibility with Java 17.
- ูพูุงฺฏู Gradle Plugin 7.1.0 ู ุจุงูุงุชุฑ ุจู ููุฑุงู ูพุดุชุจุงู ุงุฒ ุฌุงูุง 17

## ูุตุจ
ุจุฑุง ุงุฏุบุงู ูพูุงฺฏู ููุงุชุฑ WiseTrack ุฏุฑ ูพุฑูฺู ููุงุชุฑ ุฎูุฏุ ูุฑุงุญู ุฒุฑ ุฑุง ุฏูุจุงู ฺฉูุฏ:

1. **ุงูุฒูุฏู ูุงุจุณุชฺฏ**:
   ูพูุงฺฏู `wisetrack` ุฑุง ุจู ูุงู `pubspec.yaml` ุฎูุฏ ุงุถุงูู ฺฉูุฏ:
   ```yaml
   dependencies:
     wisetrack: ^2.0.0 # ุจุง ุขุฎุฑู ูุณุฎู ุฌุงฺฏุฒู ฺฉูุฏ
   ```

2. **ูุตุจ ุจุณุชู**:
   ุฏุณุชูุฑ ุฒุฑ ุฑุง ุฏุฑ ุฏุงุฑฺฉุชูุฑ ูพุฑูฺู ุฎูุฏ ุงุฌุฑุง ฺฉูุฏ:
   ```bash
   flutter pub get
   ```

3. **ูพฺฉุฑุจูุฏ iOS**:
   ุจุฑุง ูพุดุชุจุงู ุงุฒ ุดูุงูุช ุฑุฏุงุจ ุจุฑูุงูู (ATT) ุฏุฑ iOSุ ฺฉูุฏ ุฒุฑ ุฑุง ุจู ูุงู `ios/Runner/Info.plist` ุงุถุงูู ฺฉูุฏ:
   ```xml
   <key>NSUserTrackingUsageDescription</key>
   <string>ูุง ุงุฒ ุงู ุฏุงุฏูโูุง ุจุฑุง ุงุฑุงุฆู ุชุฌุฑุจู ฺฉุงุฑุจุฑ ุจูุชุฑ ู ุชุจูุบุงุช ุดุฎุตโุณุงุฒโุดุฏู ุงุณุชูุงุฏู ูโฺฉูู.</string>
   ```

4. **ูพฺฉุฑุจูุฏ ุงูุฏุฑูุฏ**:
   ุงุทููุงู ุญุงุตู ฺฉูุฏ ฺฉู ูุงู `android/app/build.gradle` ุดูุง ุชูุธูุงุช ุฒุฑ ุฑุง ุฏุงุฑุฏ:
   ```gradle
   android {
       compileSdkVersion 33
       defaultConfig {
           minSdkVersion 21
           targetSdkVersion 33
       }
   }
   ```

   **ูุฌูุฒูุง ุงูุฏุฑูุฏ**:
   ุจุฑุง ูุนุงู ฺฉุฑุฏู SDK WiseTrack ุฌูุช ุฏุณุชุฑุณ ุจู ุงุทูุงุนุงุช ุฏุณุชฺฏุงู ู ูฺฺฏโูุง ุดุจฺฉู ุฏุฑ ุงูุฏุฑูุฏุ ูุฌูุฒูุง ุฒุฑ ุฑุง ุจู ูุงู `android/app/src/main/AndroidManifest.xml` ุงุถุงูู ฺฉูุฏ:
   ```xml
   <uses-permission android:name="android.permission.INTERNET" />
   <uses-permission android:name="android.permission.ACCESS_NETWORK_STATE" />
   ```

   ุงฺฏุฑ ุจุฑูุงูู ุดูุง ูุฑูุดฺฏุงู Google Play ุฑุง ูุฏู ูุฑุงุฑ ููโุฏูุฏ (ูุงููุฏ ฺฉุงููโุจุงุฒุงุฑ ุง ูุงฺฉุช)ุ ูุฌูุฒูุง ุฒุฑ ุฑุง ูุฒ ุงุถุงูู ฺฉูุฏ:
   ```xml
   <uses-permission android:name="android.permission.ACCESS_WIFI_STATE" />
   <uses-permission android:name="android.permission.READ_PHONE_STATE" />
   ```

   **ูุงุจุณุชฺฏโูุง ุฎุงุต ูฺฺฏโูุง (ุงูุฏุฑูุฏ)**:
   SDK WiseTrack ุงุฒ ูฺฺฏโูุง ุงุถุงู ุงูุฏุฑูุฏ ูพุดุชุจุงู ูโฺฉูุฏ ฺฉู ูุงุฒููุฏ ูุงุจุณุชฺฏโูุง ุฎุงุต ูุณุชูุฏ. ููุท ูุงุจุณุชฺฏโูุง ูุฑุจูุท ุจู ูฺฺฏโูุง ฺฉู ูุงุฒ ุฏุงุฑุฏ ุฑุง ุฏุฑ ูุงู `android/app/build.gradle` ุงุถุงูู ฺฉูุฏ:

   - **ุดูุงุณู ุชุจูุบุงุช ฺฏูฺฏู (Ad ID)**: ุงูฺฉุงู ุจุงุฒุงุจ ุดูุงุณู ุชุจูุบุงุช ฺฏูฺฏู ุฑุง ุงุฒ ุทุฑู `getAdId()` ูุฑุงูู ูโฺฉูุฏ.
     ```gradle
     implementation 'com.google.android.gms:play-services-ads-identifier:18.2.0'
     ```

   - **ุดูุงุณู ุชุจูุบุงุช ุจุงุฒ (OAID)**: ุงูฺฉุงู ุงุณุชูุงุฏู ุงุฒ OAID ุจูโุนููุงู ุฌุงฺฏุฒู ุจุฑุง Ad ID ุฏุฑ ุฏุณุชฺฏุงูโูุง ุจุฏูู Google Play Services (ูุงููุฏ ุฏุณุชฺฏุงูโูุง ฺู) ุงุฒ ุทุฑู `WTInitialConfig` ุจุง `oaidEnabled: true`.
     ```gradle
     implementation 'io.wisetrack:sdk:oaid:2.0.0' # ุจุง ุขุฎุฑู ูุณุฎู ุฌุงฺฏุฒู ฺฉูุฏ
     ```

   - **ุดูุงุณู ุชุจูุบุงุช ููุงู**: ุงูฺฉุงู ุจุงุฒุงุจ Ad ID ุฏุฑ ุฏุณุชฺฏุงูโูุง ููุงู ุฑุง ูุฑุงูู ูโฺฉูุฏ.
     ุงูุฒูุฏู ูุฎุฒู:
     ```gradle
     maven { url 'https://developer.huawei.com/repo/' }
     ```
     ู ุงู ูุงุจุณุชฺฏ:
     ```gradle
     implementation 'com.huawei.hms:ads-identifier:3.4.62.300'
     ```

   - **ุฑุฏุงุจ ุงุฑุฌุงุน (Referrer Tracking)**: ุงูฺฉุงู ุฑุฏุงุจ ุงุฑุฌุงุน ุจุฑุง Google Play ู ฺฉุงููโุจุงุฒุงุฑ ุงุฒ ุทุฑู `WTInitialConfig` ุจุง `referrerEnabled: true`.
     ```gradle
     implementation 'io.wisetrack:sdk:referrer:2.0.0' # ุจุง ุขุฎุฑู ูุณุฎู ุฌุงฺฏุฒู ฺฉูุฏ
     implementation 'com.android.installreferrer:installreferrer:2.2' # ุงุฑุฌุงุน Google Play
     implementation 'com.github.cafebazaar:referrersdk:1.0.2' # ุงุฑุฌุงุน ฺฉุงููโุจุงุฒุงุฑ
     ```

   - **ุดูุงุณู ูุตุจ ูุงุฑุจุณ (FID)**: ุงูฺฉุงู ุจุงุฒุงุจ ุดูุงุณู ูุตุจ ูุงุฑุจุณ ุจุฑุง ุดูุงุณุง ุฏุณุชฺฏุงู ุฑุง ูุฑุงูู ูโฺฉูุฏ.
     ```gradle
     implementation 'com.google.firebase:firebase-installations:17.2.0'
     ```
     ุจุฑุง ุงุณุชูุงุฏู ุงุฒ ุณุฑูุณโูุง ูุงุฑุจุณุ ุจุฑูุงูู ุฎูุฏ ุฑุง ุฏุฑ ฺฉูุณูู ูุงุฑุจุณ ุซุจุช ฺฉูุฏ:
     - ูุงู ุจุณุชู ุฎูุฏ ุฑุง ุงุถุงูู ฺฉูุฏ (ูุงููุฏ `com.example.app`).
     - ูุงู `google-services.json` ุฑุง ุฏุงูููุฏ ฺฉุฑุฏู ู ุฏุฑ `android/app/` ูุฑุงุฑ ุฏูุฏ.
     - ูุงู `android/build.gradle` ุฑุง ุจูโุฑูุฒุฑุณุงู ฺฉูุฏ:
       ```gradle
       buildscript {
           dependencies {
               classpath 'com.google.gms:google-services:4.4.1' # ุง ุขุฎุฑู ูุณุฎู
           }
       }
       ```
     - ูพูุงฺฏู Google Services ุฑุง ุฏุฑ `android/app/build.gradle` ุงุนูุงู ฺฉูุฏ:
       ```gradle
       apply plugin: 'com.google.gms.google-services'
       ```

   - **AppSet ID**: ุดูุงุณุง ุงุถุงู ุฏุณุชฺฏุงู ุจุฑุง ุชุญููโูุง ุฑุง ูุฑุงูู ูโฺฉูุฏ.
     ```gradle
     implementation 'com.google.android.gms:play-services-appset:16.1.0'
     ```

5. **ุจุงุฒุณุงุฒ ูพุฑูฺู**:
   ูพุฑูฺู ุฎูุฏ ุฑุง ุงุฌุฑุง ฺฉูุฏ ุชุง ูุทูุฆู ุดูุฏ ููู ูุงุจุณุชฺฏโูุง ุจู ุฏุฑุณุช ุงุฏุบุงู ุดุฏูโุงูุฏ:
   ```bash
   flutter run
   ```

## ุฑุงู ุงูุฏุงุฒ ุงููู
ุจุฑุง ุดุฑูุน ุงุณุชูุงุฏู ุงุฒ ูพูุงฺฏู ููุงุชุฑ WiseTrackุ ุขู ุฑุง ุจุง ฺฉ ุดุก ูพฺฉุฑุจูุฏ ุฏุฑ ููุทู ูุฑูุฏ ุจุฑูุงูู ุฎูุฏ (ูุงููุฏ `main.dart`) ุฑุงูโุงูุฏุงุฒ ฺฉูุฏ.

### ูุซุงู
```dart
import 'package:flutter/material.dart';
import 'package:wisetrack/wisetrack.dart';

void main() async {
  WidgetsFlutterBinding.ensureInitialized();

  // ุฑุงูโุงูุฏุงุฒ WiseTrack
  final config = WTInitialConfig(
    appToken: 'your-app-token',
    userEnvironment: WTUserEnvironment.production, // ุจุฑุง ุชุณุช ุงุฒ .sandbox ุงุณุชูุงุฏู ฺฉูุฏ
    androidStore: WTAndroidStore.googlePlay,
    iOSStore: WTIOSStore.appStore,
    logLevel: WTLogLevel.warning,
  );

  await WiseTrack.instance.init(config);

  runApp(MyApp());
}
```

**ุชูุฌู**: `'your-app-token'` ุฑุง ุจุง ุชูฺฉู ุงุฑุงุฆูโุดุฏู ุชูุณุท ุฏุงุดุจูุฑุฏ WiseTrack ุฌุงฺฏุฒู ฺฉูุฏ.

## ุงุณุชูุงุฏู ูพุงู
ุฏุฑ ุงุฏุงููุ ูุธุงู ุฑุงุฌ ฺฉู ูโุชูุงูุฏ ุจุง ูพูุงฺฏู ููุงุชุฑ WiseTrack ุงูุฌุงู ุฏูุฏ ุขูุฑุฏู ุดุฏู ุงุณุช.

### ูุนุงู/ุบุฑูุนุงู ฺฉุฑุฏู ุฑุฏุงุจ
ุฑุฏุงุจ ุฑุง ุฏุฑ ุฒูุงู ุงุฌุฑุง ูุนุงู ุง ุบุฑูุนุงู ฺฉูุฏ:

```dart
await WiseTrack.instance.setEnabled(true); // ูุนุงู ฺฉุฑุฏู sdk

await WiseTrack.instance.setEnabled(false); // ุบุฑูุนุงู ฺฉุฑุฏู sdk

bool isTrackingEnabled = await WiseTrack.instance.isEnabled(); // ุจุฑุฑุณ ูุนุงู ุจูุฏู sdk
print('sdk ูุนุงู ุงุณุช: $isTrackingEnabled');
```

### ุฏุฑุฎูุงุณุช ูุฌูุฒ ุดูุงูุช ุฑุฏุงุจ ุจุฑูุงูู (ATT) (iOS)
ุจุฑุง iOS 14+ุ ุงุฒ ฺฉุงุฑุจุฑ ุจุฑุง ุฑุฏุงุจ ูุฌูุฒ ุจุฎูุงูุฏ:

```dart
bool isAuthorized = await WiseTrack.instance.iOSRequestForATT();
print('ุฑุฏุงุจ ูุฌุงุฒ ุงุณุช: $isAuthorized');
```

### ุดุฑูุน/ุชููู ุฑุฏุงุจ
ุฑุฏุงุจ ุฑุง ุจู ุตูุฑุช ุฏุณุช ฺฉูุชุฑู ฺฉูุฏ:

```dart
  await WiseTrack.instance.startTracking(); // ุดุฑูุน ุฑุฏุงุจ
  await WiseTrack.instance.stopTracking(); // ุชููู ุฑุฏุงุจ
```

### ุชูุธู ุชูฺฉู ูุง ุงุนูุงู ูพูุด
ุชูฺฉูโูุง APNs ุง FCM ุฑุง ุจุฑุง ุงุนูุงูโูุง ูพูุด ุชูุธู ฺฉูุฏ:

```dart
await WiseTrack.instance.setAPNSToken('your-apns-token'); // ุชูุธู ุชูฺฉู APNs (iOS)

await WiseTrack.instance.setFCMToken('your-fcm-token'); // ุชูุธู ุชูฺฉู FCM (ุงูุฏุฑูุฏ)
```

### ุซุจุช ุฑูุฏุงุฏูุง ุณูุงุฑุด
ุฑูุฏุงุฏูุง ุณูุงุฑุด ุง ุฏุฑุขูุฏ ุฑุง ุซุจุช ฺฉูุฏ:

```dart
// default event => ุชูุธู ุชูฺฉู FCM (ุงูุฏุฑูุฏ)
await WiseTrack.instance.logEvent(WTEvent(
  name: 'ุฑูุฏุงุฏ ูพุดูุฑุถ',
  params: {
    'key-str': 'ููุฏุงุฑ',
    'key-num': 1.1,
    'key-bool': true,
  },
));

// revenue event =>  ุซุจุช ฺฉ ุฑูุฏุงุฏ ุฏุฑุขูุฏ
await WiseTrack.instance.logEvent(WTEvent.revenue(
  name: 'ุฎุฑุฏ',
  currency: 'USD',
  amount: 9.99,
  params: {
    'item': 'ุงุดุชุฑุงฺฉ ูพุฑููู',
  },
));
```

### ุชูุธู ุณุทูุญ ูุงฺฏ
ูุฒุงู ุฌุฒุฆุงุช ูุงฺฏโูุง SDK ุฑุง ฺฉูุชุฑู ฺฉูุฏ:

```dart
await WiseTrack.instance.setLogLevel(WTLogLevel.warning); // ฺฏุฒููโูุง: errorุ warningุ infoุ debug
```

### ุจุงุฒุงุจ ุดูุงุณู ูุง ุชุจูุบุงุช
ุดูุงุณู ุชุจูุบุงุช (IDFA) ุฏุฑ iOS ุง ุดูุงุณู ุชุจูุบุงุช (Ad ID) ุฏุฑ ุงูุฏุฑูุฏ ุฑุง ุจุงุฒุงุจ ฺฉูุฏ:

```dart
String? idfa = await WiseTrack.instance.getIdfa(); // ุฏุฑุงูุช IDFA (iOS)
print('IDFA: ${idfa ?? "ุฏุฑ ุฏุณุชุฑุณ ูุณุช"}');

String? adId = await WiseTrack.instance.getAdId(); // ุฏุฑุงูุช Ad ID (ุงูุฏุฑูุฏ)
print('Ad ID: ${adId ?? "ุฏุฑ ุฏุณุชุฑุณ ูุณุช"}');
```

## ุงุณุชูุงุฏู ูพุดุฑูุชู

### ุณูุงุฑุด ุณุงุฒ ุฑูุชุงุฑ SDK
ุดูุง ูโุชูุงูุฏ ุฑูุชุงุฑ SDK ุฑุง ุงุฒ ุทุฑู ูพุงุฑุงูุชุฑูุง `WTInitialConfig` ุณูุงุฑุด ฺฉูุฏ:
- `appToken`: ุชูฺฉู ฺฉุชุง ุจุฑูุงูู ุดูุง (ุงูุฒุงู).
- `userEnvironment`: ูุญุท (`.production`, `.sandbox`).
- `androidStore`: ูุฑูุดฺฏุงู ุจุฑูุงูู ุงูุฏุฑูุฏ (ูุงููุฏ `.googleplay`, `.cafebazaar`, `.myket`  `.other`).
- `iOSStore`: ูุฑูุดฺฏุงู ุจุฑูุงูู iOS (ูุงููุฏ `.appstore`, `.sibche`, `.sibapp`, `.anardoni`, `.sibirani`, `.sibjo`, `.other`).
- `trackingWaitingTime`: ุชุงุฎุฑ ูุจู ุงุฒ ุดุฑูุน ุฑุฏุงุจ (ุจู ุซุงูู).
- `startTrackerAutomatically`: ุขุง ุฑุฏุงุจ ุจู ุตูุฑุช ุฎูุฏฺฉุงุฑ ุดุฑูุน ุดูุฏ.
- `customDeviceId`: ฺฉ ุดูุงุณู ุฏุณุชฺฏุงู ุณูุงุฑุด.
- `defaultTracker`: ฺฉ ุฑุฏุงุจ ูพุดโูุฑุถ ุจุฑุง ุชุฎุตุต ุฑูุฏุงุฏ.
- `logLevel`: ุชูุธู ุณุทุญ ูุงฺฏ ุงููู.
- `oaidEnabled`: ูุดุงูโุฏููุฏู ูุนุงู ุจูุฏู ุดูุงุณู ุชุจูุบุงุช ุจุงุฒ (OAID).
- `referrerEnabled`: ูุดุงูโุฏููุฏู ูุนุงู ุจูุฏู ุดูุงุณู ุงุฑุฌุงุน.

ูุซุงู ุจุง ูพฺฉุฑุจูุฏ ูพุดุฑูุชู:
```dart
final config = WTInitialConfig(
  appToken: 'your-app-token',
  userEnvironment: WTUserEnvironment.sandbox,
  androidStore: WTAndroidStore.googlePlay,
  iOSStore: WTIOSStore.appStore,
  trackingWaitingTime: 3,
  startTrackerAutomatically: true,
  customDeviceId: 'custom-device-123',
  defaultTracker: 'default-tracker',
  logLevel: WTLogLevel.debug,
  oaidEnabled: false,
  referrerEnabled: true,
);

await WiseTrack.instance.init(config);
```

### ุงุชุตุงู ุจู WebView
ูุงุจูุช **ุงุชุตุงู ุจู WebView** ุงู ุงูฺฉุงู ุฑุง ูุฑุงูู ูโฺฉูุฏ ุชุง ุจู JavaScript ุฏุฑูู ฺฉ WebView ู ุงูพูฺฉุดู Flutter ุดูุงุ ุงุฑุชุจุงุท ูุณุชูู ุจุฑูุฑุงุฑ ุดูุฏ. ุงู ุงุฑุชุจุงุท ุงุฒ ุทุฑู ุณุณุชู `WiseTrackWebBridge` ุงูุฌุงู ูโุดูุฏ.
ุงู ูฺฺฏ ุจูโุฎุตูุต ุฒูุงู ฺฉุงุฑุจุฑุฏ ุงุณุช ฺฉู:
- ุฑุงุจุท ฺฉุงุฑุจุฑ ุชุญุช ูุจ ุง ุงูพ ูุจุฑุฏ ุฑุง ุฏุฑูู ุงูพูฺฉุดู Flutter ุฎูุฏ ููุงุด ูโุฏูุฏ
- ูุงุฒ ุฏุงุฑุฏ ุงุฒ ุฏุงุฎู JavaScript ุจู ูุชุฏูุง ุจูู (native) ูุซู `logEvent`ุ `initialize`ุ `getIDFA` ู ... ุฏุณุชุฑุณ ุฏุงุดุชู ุจุงุดุฏ
- ุจุฎูุงูุฏ ูพุงุณุฎโูุง ูุงููโุฒูุงู (asynchronous) ุฑุง ุงุฒ Flutter/Dart ุจู ุณูุช JavaScript ุฏุฑุงูุช ฺฉูุฏ

ูพฺฉุฌ WiseTrack ุงุฒ ุฏู ูพฺฉุฌ WebView ูุญุจูุจ Flutter ูพุดุชุจุงู ูโฺฉูุฏ:

- [`webview_flutter`](https://pub.dev/packages/webview_flutter)
- [`flutter_inappwebview`](https://pub.dev/packages/flutter_inappwebview)


#### ูพุงุฏู ุณุงุฒ ุจุง `webview_flutter`
1. ุงุฌุงุฏ JSEvaluator:
```dart
class FlutterWebViewJSEvaluator implements WiseTrackJsEvaluator {
  final WebViewController controller;
  FlutterWebViewJSEvaluator(this.controller);

  @override
  void addJSChannelHandler(String name, JSMessageCallback messageCallback) {
    controller.addJavaScriptChannel(
      name,
      onMessageReceived: (message) => messageCallback(message.message),
    );
  }

  @override
  Future<void> evaluateJS(String script) {
    return controller.runJavaScript(script);
  }

  @override
  void removeJSChannelHandler(String name) {
    controller.removeJavaScriptChannel(name);
  }
}
```
2. ุณุงุฎุช ู ุซุจุช `WiseTrackWebBridge`:
```dart
final _controller = WebViewController()
  ..setJavaScriptMode(JavaScriptMode.unrestricted);

// ุฑุงูโุงูุฏุงุฒ WebBridge ุจุง evaluator ูุฎุตูุต webview_flutter
final webBridge = WiseTrackWebBridge(
  evaluator: FlutterWebViewJSEvaluator(_controller),
);
webBridge.register();

_controller.loadRequest(...);
```
*ูฺฉุชู:*

ุญุชูุงู ูุจู ุงุฒ ุจุงุฑฺฏุฐุงุฑ ูุฑ ูุญุชูุง ุฏุฑ WebViewุ ูุชุฏ register() ุฑุง ุจุฑุง `WiseTrackWebBridge` ูุฑุงุฎูุงู ฺฉูุฏ.


#### ูพุงุฏู ุณุงุฒ ุจุง `flutter_inappwebview`
1. ุงุฌุงุฏ JSEvaluator:
```dart
class InAppWebViewJSEvaluator implements WiseTrackJsEvaluator {
  final InAppWebViewController controller;
  InAppWebViewJSEvaluator(this.controller);

  @override
  void addJSChannelHandler(String name, JSMessageCallback messageCallback) {
    controller.addJavaScriptHandler(
      handlerName: name,
      callback: (messages) => messageCallback(messages.first),
    );
  }

  @override
  Future<void> evaluateJS(String script) {
    return controller.evaluateJavascript(source: script);
  }

  @override
  void removeJSChannelHandler(String name) {
    controller.removeJavaScriptHandler(handlerName: name);
  }
}
```

2. ุณุงุฎุช ู ุซุจุช `WiseTrackWebBridge`:
```dart
InAppWebView(
  ...
  onWebViewCreated: (controller) {
    // ุฑุงูโุงูุฏุงุฒ WebBridge ุจุง evaluator ูุฎุตูุต inappwebview
    webBridge = WiseTrackWebBridge(
        evaluator: InAppWebViewJSEvaluator(controller));
    webBridge.register();
  },
  ....
)
```

#### ูุงูโูุง ฺฉูฺฉ (JavaScript)
ฺูุฏ ูุงู JavaScript ุจูโุตูุฑุช ุขูุงุฏู ุฏุฑ ุงุฎุชุงุฑ ุดูุง ูุฑุงุฑ ฺฏุฑูุชูโุงูุฏ ุชุง ุจุชูุงูุฏ ุตูุญุงุช HTML ููุฑุฏ ุงุณุชูุงุฏู ุฏุฑ WebView ุฑุง ุฑุงุญุชโุชุฑ ุจุณุงุฒุฏ ู ุชุณุช ฺฉูุฏ. ุงู ูุงูโูุง ูโุชูุงููุฏ ุจูโุนููุงู ูุฑุฌุน ุง ูพุงูโ ูพุงุฏูโุณุงุฒ ุตูุญุงุช ุฏุฑููโุจุฑูุงููโุง ููุฑุฏ ุงุณุชูุงุฏู ูุฑุงุฑ ุจฺฏุฑูุฏ.

ูุญู ูุฑุงุฑฺฏุฑ: [`assets`](./example/assets/html/)

- `wisetrack.js`: ุฑุงุจุท ุงุตู ุจุฑุง ูุฑุงุฎูุงู ูุชุฏูุง ูพู ุงุฑุชุจุงุท (Bridge)
- `wt_config.js`: ุดุงูู ุณุงุฎุชุงุฑ `WTInitConfig` ุจุฑุง ูพฺฉุฑุจูุฏ ุงููู
- `wt_event.js`: ุชุนุฑู ุณุงุฎุชุงุฑ `WTEvent` ุจุฑุง ุซุจุช ุฑูุฏุงุฏูุง
- `test.html`: ุตูุญูโ ุขุฒูุงุด ุจุฑุง ุชุณุช ุฏุณุช ูุชุฏูุง SDK (ุจุง ุฑุงุจุท ฺฉุงุฑุจุฑ ุง ฺฉูุณูู ูุฑูุฑฺฏุฑ)


## ูพุฑูฺู ููููู
ฺฉ ูพุฑูฺู ููููู ฺฉู ุงุฏุบุงู ูพูุงฺฏู ููุงุชุฑ WiseTrack ุฑุง ูุดุงู ูโุฏูุฏุ ุฏุฑ [ูุฎุฒู ฺฏุชโูุงุจ](https://github.com/wisetrack-io/flutter-sdk/tree/main/example) ุฏุฑ ุฏุณุชุฑุณ ุงุณุช. ูุฎุฒู ุฑุง ฺฉููู ฺฉุฑุฏู ู ุฏุณุชูุฑุงูุนููโูุง ุฑุงูโุงูุฏุงุฒ ุฑุง ุฏูุจุงู ฺฉูุฏ ุชุง ูพูุงฺฏู ุฑุง ุฏุฑ ุนูู ุจุจูุฏ.

## ุนุจ ุงุจ
- **SDK ุฑุงูโุงูุฏุงุฒ ููโุดูุฏ**: ุงุทููุงู ุญุงุตู ฺฉูุฏ ฺฉู `appToken` ุตุญุญ ุงุณุช ู ุดุจฺฉู ุฏุฑ ุฏุณุชุฑุณ ุงุณุช.
- **ุฑุฏุงุจ ฺฉุงุฑ ููโฺฉูุฏ**: ุจุฑุฑุณ ฺฉูุฏ ฺฉู `setEnabled(true)` ูุฑุงุฎูุงู ุดุฏู ู ูุฌูุฒ ATT ุงุนุทุง ุดุฏู ุงุณุช (iOS).
- **ูุงฺฏโูุง ููุงุด ุฏุงุฏู ููโุดููุฏ**: ุณุทุญ ูุงฺฏ ุฑุง ุจู `WTLogLevel.debug` ุชูุธู ฺฉูุฏ ู ูุทูุฆู ุดูุฏ ฺฉู ฺฉ ุดูููุฏู ูุงฺฏ ุชูุธู ุดุฏู ุงุณุช:
  ```dart
  WiseTrack.instance.listenOnLogs((message) => print('ูุงฺฏ SDK: $message'));
  ```
- **IDFA/Ad ID ุฏุฑ ุฏุณุชุฑุณ ูุณุช**: ุงุทููุงู ุญุงุตู ฺฉูุฏ ฺฉู ูุฌูุฒ ATT ุงุนุทุง ุดุฏู ุงุณุช (iOS) ุง Google Play Services ฺฏูุฌุงูุฏู ุดุฏู ุงุณุช (ุงูุฏุฑูุฏ).
- **ุงุนูุงูโูุง ูพูุด ุฑุฏุงุจ ููโุดููุฏ**: ุจุฑุฑุณ ฺฉูุฏ ฺฉู ุชูฺฉูโูุง APNS/FCM ูุนุชุจุฑ ุชูุธู ุดุฏูโุงูุฏ.

ุจุฑุง ฺฉูฺฉ ุจุดุชุฑุ ุจุง ูพุดุชุจุงู ุฏุฑ [support@wisetrack.io](mailto:support@wisetrack.io) ุชูุงุณ ุจฺฏุฑุฏ.

## ูุฌูุฒ
ูพูุงฺฏู ููุงุชุฑ WiseTrack ุชุญุช ุชูุงููโูุงูู ูุฌูุฒ SDK WiseTrack ููุชุดุฑ ุดุฏู ุงุณุช. ุจุฑุง ุฌุฒุฆุงุชุ ูุงู [LICENSE](LICENSE) ุฑุง ุจุจูุฏ.